{"version":3,"sources":["src/components/table.js"],"names":[],"mappings":"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","file":"src/components/table.js","sourcesContent":["import Container from './container.js';\nimport Spectangular from '../spectangular.js';\n\nexport default class Table extends Container {\n  get rowSelector() {\n    if (this.impl.rowSelector === undefined) {\n      throw 'The library you use should define rowSelector on its Table implementation';\n    }\n    return this.impl.rowSelector;\n  }\n\n  get cellSelector() {\n    if (this.impl.cellSelector === undefined) {\n      throw 'The library you use should define cellSelector on its Table implementation';\n    }\n    return this.impl.cellSelector;\n  }\n\n  get headerSelector() {\n    if (this.impl.headerSelector === undefined) {\n      throw 'The library you use should define headerSelector on its Table implementation';\n    }\n    return this.impl.headerSelector;\n  }\n\n  get rows() {\n    return this.componentEl.all(by.css(this.rowSelector));\n  }\n\n  get headers() {\n    return this.componentEl.all(by.css(this.headerSelector));\n  }\n\n  get pagination() {\n    return Spectangular.pagination({\n      rootEl: this.componentEl\n    });\n  }\n\n  get rowCount() {\n    return this.rows.count();\n  }\n\n  clickHeader(config) {\n    if (config.text) {\n      return this.clickHeaderByText(config.text);\n    } else if (config.index) {\n      return this.clickHeaderByIndex(config.index);\n    } else {\n      throw 'Table.clickHeader() expects a config with either text or index';\n    }\n  }\n\n  clickHeaderByIndex(index) {\n    this.headers.get(index).click();\n    return this;\n  }\n\n  clickHeaderByText(text) {\n    this.headers.filter((header) => {\n      return header.getText().then((headerText) => {\n        return headerText.toLowerCase().trim() === text.toLowerCase().trim();\n      });\n    }).then((filteredItems) => {\n      if (filteredItems.length === 1) {\n        filteredItems[0].click();\n      } else if (!filteredItems.length) {\n        throw `Could not find a header with the text ${text}`;\n      } else {\n        throw `There are multiple headers with the text ${text}`;\n      }\n    });\n    return this;\n  }\n\n  getRowByIndex(index) {\n    return this.rows.get(index);\n  }\n\n  getCellValue(rowIndex, columnIndex) {\n    return this.rows.get(rowIndex)\n      .all(by.css(this.cellSelector))\n      .get(columnIndex)\n      .getText();\n  }\n\n  getRowMenuButton(rowIndex) {\n    return Spectangular.menuButton({\n      rootEl: this.rows.get(rowIndex)\n    });\n  }\n}\n"]}